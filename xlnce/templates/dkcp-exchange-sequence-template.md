# Шаблон диаграммы обмена: Sequence Diagram

## Назначение

Sequence Diagram (диаграмма последовательности) используется для визуализации обменов между акторами в модели ДКЦП. Диаграмма показывает:
- Участников обмена (стороны)
- Что обменивает каждая сторона с другой

## Базовый шаблон: Простой обмен (2 актора)

```mermaid
sequenceDiagram
    participant Сторона1 as Сторона 1<br/>Название
    participant Сторона2 as Сторона 2<br/>Название
    
    Сторона1->>Сторона2: Что передает сторона 1
    Сторона2->>Сторона1: Что передает сторона 2
```

### Инструкция по заполнению

1. **Участники (participant)**:
   - Замените "Сторона 1" и "Сторона 2" на названия участников обмена
   - Укажите их роль или характеристики (опционально)

2. **Сообщения (стрелки)**:
   - Укажите, что передает каждая сторона другой
   - Это может быть артефакт, деньги, контакты, услуга и т.д.

---

## Шаблон 2: Сложный обмен (3+ актора)

```mermaid
sequenceDiagram
    participant Сторона1 as Сторона 1<br/>Название
    participant Сторона2 as Сторона 2<br/>Название
    participant Сторона3 as Сторона 3<br/>Название
    
    Сторона1->>Сторона2: Что передает сторона 1 стороне 2
    Сторона2->>Сторона3: Что передает сторона 2 стороне 3
    Сторона3->>Сторона2: Что передает сторона 3 стороне 2
    Сторона2->>Сторона1: Что передает сторона 2 стороне 1
```

### Инструкция по заполнению

1. Добавьте всех участников обмена как `participant`
2. Покажите последовательность обменов между сторонами
3. Укажите, что передает каждая сторона другой

---

## Шаблон 3: Воронка продаж (система обменов)

```mermaid
sequenceDiagram
    autonumber
    participant Сторона1 as Сторона 1<br/>Название
    participant Сторона2 as Сторона 2<br/>Название
    participant Сторона3 as Сторона 3<br/>Название
    
    rect rgb(255, 247, 235)
        Note over Сторона1,Сторона2: Этап 1: Название этапа
        Сторона1->>Сторона2: Что передает сторона 1
        Сторона2->>Сторона1: Что передает сторона 2
    end
    
    rect rgb(245, 230, 211)
        Note over Сторона2,Сторона3: Этап 2: Название этапа
        Сторона2->>Сторона3: Что передает сторона 2
        Сторона3->>Сторона2: Что передает сторона 3
    end
    
    rect rgb(232, 212, 187)
        Note over Сторона1,Сторона3: Этап 3: Название этапа
        Сторона1->>Сторона3: Что передает сторона 1
        Сторона3->>Сторона1: Что передает сторона 3
    end
```

### Инструкция по заполнению

1. Используйте `autonumber` для автоматической нумерации шагов
2. Разделите воронку на этапы с помощью `rect` (прямоугольники)
3. Для каждого этапа укажите участников и что они обменивают
4. Используйте `Note` для названия этапа (опционально)

### Цветовая схема для этапов

- Этап 1: `rgb(255, 247, 235)` - #FFF7EB
- Этап 2: `rgb(245, 230, 211)` - #F5E6D3
- Этап 3: `rgb(232, 212, 187)` - #E8D4BB
- Этап 4: `rgb(220, 197, 168)` - #DCC5A8

---

## Примеры заполнения

### Пример 1: Простой обмен (ПНДЛНК ↔ Клиент)

```mermaid
sequenceDiagram
    participant ПНДЛНК as ПНДЛНК
    participant Клиент as Клиент
    
    ПНДЛНК->>Клиент: Интенсив Стратегия 2026
    Клиент->>ПНДЛНК: Деньги
```

### Пример 2: Партнерский обмен (ПНДЛНК ↔ Банк)

```mermaid
sequenceDiagram
    participant ПНДЛНК as ПНДЛНК
    participant Банк as Банк
    
    ПНДЛНК->>Банк: Право участвовать в исследовании<br/>Как продавать в энтерпрайз 2026
    Банк->>ПНДЛНК: Деньги<br/>Спонсорство исследования
```

### Пример 3: Все обмены в системе (ПНДЛНК, Банк, Клиент)

```mermaid
sequenceDiagram
    autonumber
    participant Банк as Банк
    participant ПНДЛНК as ПНДЛНК
    participant Клиент as Клиент
    
    Note over Банк,ПНДЛНК: Обмен 1: Партнерский
    ПНДЛНК->>Банк: Право участвовать в исследовании
    Банк->>ПНДЛНК: Деньги
    
    Note over ПНДЛНК,Клиент: Обмен 2: Исследование
    ПНДЛНК->>Клиент: Исследование Как продавать в энтерпрайз 2026
    Клиент->>ПНДЛНК: Контакты
    
    Note over ПНДЛНК,Клиент: Обмен 3: Интенсив
    ПНДЛНК->>Клиент: Интенсив Стратегия 2026
    Клиент->>ПНДЛНК: Деньги
    
    Note over ПНДЛНК,Клиент: Обмен 4: Внедрение
    ПНДЛНК->>Клиент: Внедрение Эталон-м
    Клиент->>ПНДЛНК: Деньги
```

---

## Правила оформления

### 1. Участники (participant)

- Используйте понятные названия сторон
- Для длинных названий используйте алиасы: `participant ПНДЛНК as ПНДЛНК`
- Можно добавить краткое описание через `<br/>`

### 2. Сообщения (стрелки)

- Используйте `->>` для синхронных сообщений
- Указывайте кратко, что передается
- Можно использовать `<br/>` для переноса строки в длинных описаниях

### 3. Воронки продаж

- Используйте `autonumber` для нумерации шагов
- Разделяйте этапы с помощью `rect` с цветовой схемой
- Используйте `Note` для названия этапа (опционально)

### 4. Несколько обменов

- Используйте `Note` для разделения разных обменов (опционально)
- Показывайте последовательность обменов во времени

## Связь с блоками ДКЦП

Диаграмма обмена показывает:
- **Участники** → могут соответствовать блокам 1 (Клиентский сегмент) и 7 (Атрибуты компании)
- **Что передает сторона 1** → может быть артефактом (блок 3) или вкладом клиента (блок 5)
- **Что передает сторона 2** → может быть артефактом (блок 3) или вкладом клиента (блок 5)

Детальная информация о мотивационных конфликтах, аргументах, условиях обмена и ценности хранится в полной ДКЦП-модели.

## Версионность

**Версия**: 1.0  
**Дата создания**: 2025-01-XX  
**Формат**: Sequence Diagram (Mermaid)  
**Принцип**: Минималистичность - только участники и предметы обмена
